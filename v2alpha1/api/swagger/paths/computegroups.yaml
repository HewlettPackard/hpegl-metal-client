get:
  tags:
    - compute groups
  summary: List of all compute groups within an organization or cluster
  description: >-
    Returns an array of all compute group objects that have been created. This
    includes profile information and compute group limits on resouces
    like hosts, private networks, volumes, and volume capacity. If GreenLake IAM issued token is
    used for authentication, then it is required to pass either 'Space' or
    'spaceid' header. When both are set, 'Space' header is ignored.
  operationId: ComputeGroups_list
  security:
    - BearerAuth: []
      Membership: []
    - BearerAuth: []
  parameters:
    - $ref: ../components/parameters/SpaceID.yaml
    - $ref: ../components/parameters/Space.yaml
  responses:
    '200':
      description: success
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: ../components/schemas/ComputeGroup.yaml
    '401':
      $ref: ../components/responses/Unauthorized.yaml
    '500':
      $ref: ../components/responses/InternalError.yaml

post:
  tags:
    - computegroups
  summary: Create a new compute group
  description: >-
    Adds a new compute group which creates an isolated space for creating Hosts,
    Volumes, and private Networks. A compute group is often aligned to a specific team
    within an organization or a cluster. If GreenLake IAM issued token is used
    for authentication, then it is required to pass either 'Space' or 'spaceid'
    header. When both are set, 'Space' header is ignored.
    Note that Hoster or BMaaS Access Owner role is required for this operation.
  operationId: ComputeGroup_add
  security:
    - BearerAuth: []
      Membership: []
    - BearerAuth: []
  parameters:
    - $ref: ../components/parameters/Space.yaml
    - $ref: ../components/parameters/SpaceID.yaml
  requestBody:
    required: true
    description: NewComputeGroup parameters to create a new compute group
    content:
      application/json:
        schema:
          $ref: ../components/schemas/NewComputeGroup.yaml
  responses:
    '201':
      description: created
      content:
        application/json:
          schema:
            $ref: ../components/schemas/ComputeGroup.yaml
    '400':
      $ref: ../components/responses/InvalidContent.yaml
    '401':
      $ref: ../components/responses/Unauthorized.yaml
    '405':
      $ref: ../components/responses/InvalidInput.yaml
    '500':
      $ref: ../components/responses/InternalError.yaml
